{% extends "layout/layout" %}

{% block content %}
    <h1>{{ translate('A 404 error occurred') }}</h1>
    <h2>{{ message }}</h2>

    {% if reason %}
        {% if reason == 'error-controller-cannot-dispatch' %}
            {% set reason_message = translate('The requested controller was unable to dispatch the request.') %}
        {% elseif reason == 'error-controller-cannot-dispatch' %}
            {% set reason_message = translate('The requested controller was unable to dispatch the request.') %}
        {% elseif reason == 'error-controller-cannot-dispatch' %}
            {% set reason_message = translate('The requested controller was unable to dispatch the request.') %}
        {% elseif reason == 'error-controller-cannot-dispatch' %}
            {% set reason_message = translate('The requested controller was unable to dispatch the request.') %}
        {% else %}
            {% set reason_message = translate('We cannot determine at this time why a 404 was generated.') %}
        {% endif %}

        <p>{{ reason_message }}</p>
    {% endif %}

    {% if controller %}

        <dl>
            <dt>{{ translate('Controller') }}:</dt>
            <dd>{{ controller }}
                {% if controller_class and controller_class != controller %}
                    {{ 'resolves to %s'|format(controller_class) }}
                {% endif %}
            </dd>
        </dl>

    {% endif %}

    {% if display_exceptions %}
        {% if exception %}
            {% if exception.getPrevious %}
                {% if exception.getPrevious().getPrevious() %}
                    <hr/>
                    <h2>Additional information:</h2>
                    <dl>
                        <dt>File:</dt>
                        <dd>
                            <pre class="prettyprint linenums">{{ exception.getPrevious().getPrevious().getFile() }}: {{ exception.getPrevious().getPrevious().getLine() }}</pre>
                        </dd>
                        <dt>Message:</dt>
                        <dd>
                            <pre class="prettyprint linenums">{{ exception.getPrevious().getPrevious().getMessage() }}</pre>
                        </dd>
                        <dt>Stack trace:</dt>
                        <dl>
                            <pre class="prettyprint linenums">{{ exception.getPrevious().getPrevious().getTraceAsString() }}</pre>
                        </dl>
                    </dl>
                {% endif %}
                <hr/>
                <h2>Additional information:</h2>
                <dl>
                    <dt>File:</dt>
                    <dd>
                        <pre class="prettyprint linenums">{{ exception.getPrevious().getFile() }}: {{ exception.getPrevious().getLine() }}</pre>
                    </dd>
                    <dt>Message:</dt>
                    <dd>
                        <pre class="prettyprint linenums">{{ exception.getPrevious().getMessage() }}</pre>
                    </dd>
                    <dt>Stack trace:</dt>
                    <dl>
                        <pre class="prettyprint linenums">{{ exception.getPrevious().getTraceAsString() }}</pre>
                    </dl>
                </dl>
            {% endif %}
            <hr/>
            <h2>Additional information:</h2>
            <dl>
                <dt>File:</dt>
                <dd>
                    <pre class="prettyprint linenums">{{ exception.getFile() }}: {{ exception.getLine() }}</pre>
                </dd>
                <dt>Message:</dt>
                <dd>
                    <pre class="prettyprint linenums">{{ exception.getMessage() }}</pre>
                </dd>
                <dt>Stack trace:</dt>
                <dl>
                    <pre class="prettyprint linenums">{{ exception.getTraceAsString() }}</pre>
                </dl>
            </dl>
        {% else %}
            <h3>{{ translate('No Exception available') }}</h3>
        {% endif %}
    {% endif %}
{% endblock %}