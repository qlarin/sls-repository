{% extends "layout/layout" %}

{% block content %}

    <h1>{{ translate('An error occurred') }}</h1>
    <h2>{{ message }}</h2>

    {% if display_exceptions %}
        {% if exception %}
            {% if exception.getPrevious %}
                {% if exception.getPrevious().getPrevious() %}
                    <hr/>
                    <h2>Additional information:</h2>
                    <dl>
                        <dt>File:</dt>
                        <dd>
                            <pre class="prettyprint linenums">{{ exception.getPrevious().getPrevious().getFile() }}: {{ exception.getPrevious().getPrevious().getLine() }}</pre>
                        </dd>
                        <dt>Message:</dt>
                        <dd>
                            <pre class="prettyprint linenums">{{ exception.getPrevious().getPrevious().getMessage() }}</pre>
                        </dd>
                        <dt>Stack trace:</dt>
                        <dl>
                            <pre class="prettyprint linenums">{{ exception.getPrevious().getPrevious().getTraceAsString() }}</pre>
                        </dl>
                    </dl>
                {% endif %}
                <hr/>
                <h2>Additional information:</h2>
                <dl>
                    <dt>File:</dt>
                    <dd>
                        <pre class="prettyprint linenums">{{ exception.getPrevious().getFile() }}: {{ exception.getPrevious().getLine() }}</pre>
                    </dd>
                    <dt>Message:</dt>
                    <dd>
                        <pre class="prettyprint linenums">{{ exception.getPrevious().getMessage() }}</pre>
                    </dd>
                    <dt>Stack trace:</dt>
                    <dl>
                        <pre class="prettyprint linenums">{{ exception.getPrevious().getTraceAsString() }}</pre>
                    </dl>
                </dl>
            {% endif %}
            <hr/>
            <h2>Additional information:</h2>
            <dl>
                <dt>File:</dt>
                <dd>
                    <pre class="prettyprint linenums">{{ exception.getFile() }}: {{ exception.getLine() }}</pre>
                </dd>
                <dt>Message:</dt>
                <dd>
                    <pre class="prettyprint linenums">{{ exception.getMessage() }}</pre>
                </dd>
                <dt>Stack trace:</dt>
                <dl>
                    <pre class="prettyprint linenums">{{ exception.getTraceAsString() }}</pre>
                </dl>
            </dl>
        {% else %}
            <h3>{{ translate('No Exception available') }}</h3>
        {% endif %}
    {% endif %}
{% endblock %}